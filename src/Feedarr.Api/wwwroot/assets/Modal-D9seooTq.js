import{r as i,a as u,j as o}from"./vendor-react-B6j9w5IJ.js";import{A as f}from"./index-w1EqWPJX.js";function w({open:d,title:m,onClose:l,children:c,width:v=560,titleClassName:r="",modalClassName:s=""}){return i.useEffect(()=>{if(!d)return;function e(t){t.key==="Escape"&&l?.()}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,l]),i.useEffect(()=>{if(!d||typeof document>"u")return;const e=document.body,t=document.documentElement,n=Number(e.dataset.modalLockCount||"0");if(n===0){const a=Math.max(0,window.innerWidth-t.clientWidth);e.dataset.modalPrevBodyOverflow=e.style.overflow||"",e.dataset.modalPrevBodyPaddingRight=e.style.paddingRight||"",e.dataset.modalPrevHtmlOverflow=t.style.overflow||"",e.dataset.modalPrevHtmlOverscroll=t.style.overscrollBehavior||"",a>0&&(e.style.paddingRight=`${a}px`),e.style.overflow="hidden",t.style.overflow="hidden",t.style.overscrollBehavior="none",e.classList.add("modal-open")}return e.dataset.modalLockCount=String(n+1),()=>{const a=Math.max(0,Number(e.dataset.modalLockCount||"1")-1);a===0?(e.style.overflow=e.dataset.modalPrevBodyOverflow||"",e.style.paddingRight=e.dataset.modalPrevBodyPaddingRight||"",t.style.overflow=e.dataset.modalPrevHtmlOverflow||"",t.style.overscrollBehavior=e.dataset.modalPrevHtmlOverscroll||"",e.classList.remove("modal-open"),delete e.dataset.modalLockCount,delete e.dataset.modalPrevBodyOverflow,delete e.dataset.modalPrevBodyPaddingRight,delete e.dataset.modalPrevHtmlOverflow,delete e.dataset.modalPrevHtmlOverscroll):e.dataset.modalLockCount=String(a)}},[d]),!d||typeof document>"u"?null:u.createPortal(o.jsx("div",{className:"modal-overlay",onClick:l,children:o.jsxs("div",{className:`modal${s?` ${s}`:""}`,style:{width:v},onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[o.jsxs("div",{className:"modal-head",children:[o.jsx("div",{className:`modal-title${r?` ${r}`:""}`,children:m}),o.jsx("button",{className:"iconbtn",type:"button",onClick:l,title:"Fermer",children:o.jsx(f,{name:"close"})})]}),o.jsx("div",{className:"modal-body",children:c})]})}),document.body)}export{w as M};
