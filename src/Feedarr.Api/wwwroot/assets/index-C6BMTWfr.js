const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Library-Dj2RDIsM.js","assets/vendor-react-B6j9w5IJ.js","assets/Loader-WjrgZmWo.js","assets/PosterCard-DKsK4ISG.js","assets/Modal-LPROLsOK.js","assets/sourceColors-KACkINRj.js","assets/appTypes-BSxyKsC5.js","assets/categoryGroups.constants-TqNJ0nIh.js","assets/vendor-icons-CUZlM7O3.js","assets/formatters--KSD9hRc.js","assets/vendor-router-DbNMZja2.js","assets/SubAction-DECBSCTd.js","assets/TopReleases-LRCar5yx.js","assets/Activity-Dr0V_OJn.js","assets/uiText-BIKCb3Eq.js","assets/History-DFT4mTpL.js","assets/categoryPriority.constants-BnKBS6eK.js","assets/Indexers-Dbr1L5zA.js","assets/ItemRow-CH6u-Ybt.js","assets/CategoryMappingBoard-DJH_lAZi.js","assets/System-Hgm0nJAD.js","assets/SystemStatistics-Bq5eCQPr.js","assets/systemUtils-DnAbBuwt.js","assets/SystemStatisticsPage-Bby2eKxn.js","assets/SystemIndexers-CXxi31WL.js","assets/Settings-9pCEZJv0.js","assets/ExternalProviderInstancesSection-CjDzFwgQ.js","assets/Providers-DHdvdNVX.js","assets/SetupWizard-CMlW6aVY.js"])))=>i.map(i=>d[i]);
import{j as n,r as u,b as P,c as Rt}from"./vendor-react-B6j9w5IJ.js";import{u as Te,a as It,N as D,b as Ce,O as st,c as Dt,d as Pt,e as fe,R as qt}from"./vendor-router-DbNMZja2.js";import{T as me,E as Mt,a as Ft,L as Ut,b as $t,R as Ot,C as ze,D as zt,A as Bt,S as Vt,c as Wt,d as Gt,F as Kt,e as Ht,f as Yt,U as Qt,g as Xt,h as Be,i as Jt,M as Zt,j as es,k as ts,I as ss,H as rs,l as ns,m as as,n as is,o as os,P as cs,p as ls,q as us,r as ds,X as ps,s as fs,t as ms,u as rt,v as gs,w as hs,x as vs,y as ys,z as bs,B as ws,G as Ss}from"./vendor-icons-CUZlM7O3.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const xs="modulepreload",Es=function(t){return"/"+t},Ve={},$=function(s,r,a){let o=Promise.resolve();if(r&&r.length>0){let y=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");o=y(r.map(p=>{if(p=Es(p),p in Ve)return;Ve[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":xs,g||(b.as="script"),b.crossOrigin="",b.href=p,l&&b.setAttribute("nonce",l),document.head.appendChild(b),g)return new Promise((c,h)=>{b.addEventListener("load",c),b.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return o.then(d=>{for(const l of d||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},Ts={add_circle:Ss,arrow_downward:ws,arrow_upward:bs,cancel:ys,category:vs,check:hs,check_box:gs,check_box_outline_blank:rt,check_circle:ze,chevron_left:ms,chevron_right:fs,close:ps,delete:ds,dns:us,download:ls,edit:cs,error:me,event:os,filter_list:is,first_page:as,format_list_numbered:ns,history:rs,image:ss,image_search:ts,last_page:es,loading:Be,menu:Zt,military_tech:Jt,priority_high:me,progress_activity:Be,refresh:Xt,restore:Qt,save:Yt,schedule:Ht,science:Kt,search:Gt,select_all:Wt,settings:Vt,sort:Bt,storage:zt,success:ze,sync:Ot,video_library:$t,view_module:Ut,visibility:Ft,visibility_off:Mt,warning:me};function G({name:t,className:s="",size:r="1em",strokeWidth:a=1.35,...o}){if(!t)return null;const i=Ts[t]||rt,d=s?`app-icon ${s}`:"app-icon";return n.jsx(i,{"aria-hidden":"true",className:d,size:r,strokeWidth:a,...o})}function nt({onToggleNav:t}){const s="/favicon-ios.png",r=Te(),[a,o]=It(),i=r.pathname==="/library",d=a.get("q")||"",l=u.useRef(null),[y,p]=u.useState(!1),[g,v]=u.useState(d),b="topbar-library-search",c=u.useCallback(S=>{const I=String(S||"").trim(),m=new URLSearchParams(a);I?m.set("q",I):m.delete("q"),o(m,{replace:!0})},[a,o]);u.useEffect(()=>{v(S=>S===d?S:d)},[d]),u.useEffect(()=>{if(!i||g===d)return;const S=window.setTimeout(()=>{c(g)},280);return()=>window.clearTimeout(S)},[i,g,d,c]);const h=u.useCallback(()=>{p(!0),requestAnimationFrame(()=>l.current?.focus())},[]),N=u.useCallback(()=>{p(!1)},[]);return u.useEffect(()=>{if(!y)return;function S(I){I.key==="Escape"&&N()}return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[y,N]),u.useEffect(()=>{i||p(!1)},[i]),n.jsxs("header",{className:`topbar${y?" is-search-open":""}`,children:[n.jsxs("div",{className:"topbar-left",children:[n.jsx("button",{type:"button",className:"topbar-burger","aria-label":"Ouvrir le menu",onClick:t,children:n.jsx(G,{name:"menu"})}),n.jsx("div",{className:"brand",children:n.jsx("img",{className:"brand-logo",src:s,alt:"Feedarr"})})]}),n.jsx("div",{className:"topbar-center",children:i&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"topbar-search",role:"search",onClick:()=>l.current?.focus(),children:[n.jsx(G,{name:"search",className:"topbar-search__icon"}),n.jsx("input",{id:b,ref:l,value:g,onChange:S=>v(S.target.value),onKeyDown:S=>{S.key==="Enter"&&c(g)},"aria-label":"Rechercher dans la bibliothèque",placeholder:"Recherche"})]}),n.jsx("button",{type:"button",className:"topbar-search-close","aria-label":"Fermer la recherche",onClick:N,children:n.jsx(G,{name:"close"})})]})}),n.jsx("div",{className:"topbar-right",children:i&&n.jsx("button",{type:"button",className:"topbar-search-toggle","aria-label":"Recherche","aria-controls":b,"aria-expanded":y,onClick:h,children:n.jsx(G,{name:"search"})})})]})}const Cs={},ge=(Cs?.VITE_API_BASE||"").replace(/\/+$/,"");function _e(t){return!t||/^https?:\/\//i.test(t)||t.startsWith("data:")||t.startsWith("blob:")||!ge?t:t.startsWith("/")?ge+t:ge+"/"+t}async function at(t){let s=`HTTP ${t.status}`;if((t.headers.get("content-type")||"").includes("application/json")){try{const a=await t.json();s=a?.message||a?.error||a?.title||a?.detail||s}catch{}return s}try{const a=await t.text(),o=String(a||"").replace(/\s+/g," ").trim();if(o){const i=o.slice(0,180);s=`${s} - ${i}`}}catch{}return s}const _s=3e4;function it(t,s){const r=s>0?s:_s,a=new AbortController,o=setTimeout(()=>a.abort(),r);return t&&(t.aborted?(clearTimeout(o),a.abort()):t.addEventListener("abort",()=>{clearTimeout(o),a.abort()},{once:!0})),{signal:a.signal,clear:()=>clearTimeout(o)}}async function ae(t,s,r,{signal:a,timeoutMs:o}={}){const{signal:i,clear:d}=it(a,o);try{const l=await fetch(_e(s),{method:t,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:r?JSON.stringify(r):null,signal:i});if(l.status===204)return null;if(!l.ok)throw new Error(await at(l));return(l.headers.get("content-type")||"").includes("application/json")?l.json():null}finally{d()}}async function U(t,{signal:s,timeoutMs:r}={}){const{signal:a,clear:o}=it(s,r);try{const i=await fetch(_e(t),{headers:{Accept:"application/json"},credentials:"include",signal:a});if(!i.ok)throw new Error(await at(i));return(i.headers.get("content-type")||"").includes("application/json")?i.json():null}finally{o()}}const Tr=(t,s,r)=>ae("POST",t,s,r),Cr=(t,s,r)=>ae("PUT",t,s,r),_r=(t,s,r)=>ae("PATCH",t,s,r),Ar=(t,s)=>ae("DELETE",t,null,s),We="feedarr:lastSeen:activity",Ge="feedarr:lastSeen:releases",Ke="feedarr:lastSeen:releases_ts",As="feedarr:lastSeenReleaseTag",ye="feedarr:update:latest",Ae="feedarr:update:lastCheckTs";function Ls(){if(typeof window>"u")return null;const t=window.localStorage.getItem(ye);if(!t)return null;try{const s=JSON.parse(t);if(!s||typeof s!="object")return null;const r=!!s.latestRelease&&!Object.prototype.hasOwnProperty.call(s,"releases"),a=Object.prototype.hasOwnProperty.call(s,"releases")&&!Array.isArray(s.releases);return r||a?(window.localStorage.removeItem(ye),window.localStorage.removeItem(Ae),null):s}catch{return null}}function Ns(t){typeof window>"u"||(window.localStorage.setItem(ye,JSON.stringify(t||{})),window.localStorage.setItem(Ae,String(Date.now())))}function js({pollMs:t=6e4,activityLimit:s=200,activityMode:r="nonInfo"}={}){const[a,o]=u.useState(()=>typeof window>"u"?0:Number(window.localStorage.getItem(We)||0)),[i,d]=u.useState(()=>typeof window>"u"?0:Number(window.localStorage.getItem(Ge)||0)),[l,y]=u.useState(()=>typeof window>"u"?0:Number(window.localStorage.getItem(Ke)||0)),[p,g]=u.useState({activity:0,activityTone:"info",system:null,sources:0,releases:0,settingsMissing:0,latestActivityTs:0,latestReleasesCount:0,latestReleasesTs:0,isUpdateAvailable:!1,hasUnseenUpdate:!1,latestUpdateTag:"",tasks:[]}),v=u.useRef(null),[b,c]=u.useState(!1);function h(w){if(w==null)return 0;if(typeof w=="number")return Number.isFinite(w)?w:0;const x=Number(w);if(Number.isFinite(x))return x;const j=Date.parse(w);return Number.isFinite(j)?j:0}function N(w){if(typeof window>"u")return;const x=Number(w||0);window.localStorage.setItem(We,String(x))}function S(w){if(typeof window>"u")return;const x=Number(w||0);window.localStorage.setItem(Ge,String(x))}function I(w){if(typeof window>"u")return;const x=Number(w||0);window.localStorage.setItem(Ke,String(x))}const m=u.useCallback(w=>{const x=Number(w||0);N(x),o(x),g(j=>({...j,activity:0,latestActivityTs:x}))},[]),E=u.useCallback((w,x)=>{const j=Number(w||0),F=Number(x||0);S(j),d(j),g(O=>({...O,releases:0,latestReleasesCount:j>0?j:O.latestReleasesCount,latestReleasesTs:F>0?F:O.latestReleasesTs})),F>0&&(I(F),y(F))},[]),R=u.useRef(!1),M=u.useRef(null),L=u.useCallback(async()=>{if(!R.current){R.current=!0;try{const w=Math.max(0,Number(l||0)),x=`/api/system/status?releasesSinceTs=${encodeURIComponent(String(w))}`,[j,F,O,H]=await Promise.allSettled([U(`/api/activity?limit=${s}`),U(x),U("/api/settings/external"),U("/api/settings/ui")]),ee=H.status==="fulfilled"?H.value:null,te=ee?{info:!!ee.badgeInfo,warn:!!ee.badgeWarn,error:!!ee.badgeError}:null,oe=(()=>{if(j.status!=="fulfilled")return null;const C=Array.isArray(j.value?.value)?j.value.value:Array.isArray(j.value)?j.value:[],Q=a,se=C.map(_=>({item:_,ts:h(_?.createdAt??_?.createdAtTs??_?.created_at_ts??_?.timestamp??0)})).filter(_=>Number.isFinite(_.ts)&&_.ts>0),$e=se.reduce((_,k)=>k.ts>_?k.ts:_,0),B=_=>String(_?.level||_?.Level||"").toLowerCase(),Oe=_=>{const k=B(_);return te?k==="info"?te.info:k==="warn"||k==="warning"?te.warn:k==="error"?te.error:!1:r==="errorOnly"?k==="error":k&&k!=="info"},jt=C.filter(Oe),kt=(()=>{const _=jt.map(k=>B(k));return _.some(k=>k==="error")?"error":_.some(k=>k==="warn"||k==="warning")?"warn":"info"})();return{activityCount:se.filter(_=>_.ts>Q&&Oe(_.item)).length,latestActivityTs:$e,activityTone:kt}})(),T=F.status==="fulfilled"?F.value:null,xt=(()=>{if(!T)return null;const C=String(T?.status??T?.Status??"").toLowerCase();return T?.ok===!1||C==="error"?"error":C==="warn"||C==="warning"?"warn":Number(T?.errors??T?.Errors??0)>0?"error":Number(T?.warnings??T?.Warnings??0)>0?"warn":null})(),Et=T?Number(T?.sourcesCount??T?.SourcesCount??0):null,ce=T?Number(T?.releasesCount??T?.ReleasesCount??0):null,le=T?h(T?.releasesLatestTs??T?.ReleasesLatestTs??0):null,qe=T?T?.releasesNewSinceTsCount??T?.ReleasesNewSinceTsCount:null,ue=qe==null?NaN:Number(qe),Me=Number.isFinite(ue)&&ue>=0,Fe=Me?Math.trunc(ue):null,de=typeof ce=="number"?Math.max(0,ce-i):null,Tt=typeof le=="number"?le>l:!1,Ct=Me?Fe>0?Fe:0:de&&de>0?de:Tt?"warn":0,_t=Array.isArray(T?.tasks)?T.tasks:Array.isArray(T?.Tasks)?T.Tasks:[],At=(()=>{if(O.status!=="fulfilled")return null;const C=O.value||{};return[!C.hasTmdbApiKey,!C.hasIgdbClientId,!C.hasIgdbClientSecret].filter(Boolean).length})();let Y=Ls();try{const C=typeof window>"u"?0:Number(window.localStorage.getItem(Ae)||0),Q=Number(Y?.checkIntervalHours??6),se=Math.max(1,Number.isFinite(Q)?Q:6)*60*60*1e3;if(!Y||Date.now()-C>=se){const B=await U("/api/updates/latest");B&&typeof B=="object"&&(Y=B,Ns(B))}}catch{}const pe=String(Y?.latestRelease?.tagName||""),Ue=!!Y?.isUpdateAvailable,Lt=typeof window>"u"?"":String(window.localStorage.getItem(As)||""),Nt=!!(Ue&&pe&&pe!==Lt);g(C=>({activity:oe?.activityCount??C.activity,activityTone:oe?.activityTone??C.activityTone,system:xt??C.system,sources:Et??C.sources,releases:Ct??C.releases,settingsMissing:At??C.settingsMissing,latestActivityTs:oe?.latestActivityTs??C.latestActivityTs,latestReleasesCount:ce??C.latestReleasesCount,latestReleasesTs:le??C.latestReleasesTs,isUpdateAvailable:Ue,hasUnseenUpdate:Nt,latestUpdateTag:pe,tasks:_t}))}catch{}finally{R.current=!1}}},[s,r,a,i,l]);M.current=L;const q=u.useMemo(()=>{const w=Math.max(6e4,Number(t)||6e4);return b?Math.max(w,3e5):w},[t,b]);return u.useEffect(()=>(L(),v.current=setInterval(L,q),()=>v.current&&clearInterval(v.current)),[L,q]),u.useEffect(()=>{if(typeof window>"u"||typeof EventSource>"u")return;const w=_e("/api/badges/stream"),x=new EventSource(w,{withCredentials:!0}),j=()=>{c(!0),M.current?.()},F=()=>M.current?.(),O=()=>c(!1),H=()=>c(!0);return x.addEventListener("ready",j),x.addEventListener("badge",F),x.addEventListener("error",O),x.addEventListener("open",H),()=>{c(!1),x.removeEventListener("ready",j),x.removeEventListener("badge",F),x.removeEventListener("error",O),x.removeEventListener("open",H),x.close()}},[]),u.useEffect(()=>{if(typeof window>"u")return;const w=()=>M.current?.();return window.addEventListener("feedarr:update-ack",w),window.addEventListener("feedarr:update-refreshed",w),()=>{window.removeEventListener("feedarr:update-ack",w),window.removeEventListener("feedarr:update-refreshed",w)}},[]),{...p,lastSeenActivityTs:a,markActivitySeen:m,lastSeenReleasesCount:i,markReleasesSeen:E,lastSeenReleasesTs:l}}const ot="feedarr:tasks";function ct(){typeof window<"u"&&window.dispatchEvent(new Event("tasks:updated"))}function Le(){if(typeof window>"u")return[];try{const t=window.localStorage.getItem(ot),s=t?JSON.parse(t):[];if(!Array.isArray(s))return[];const r=Date.now();return s.filter(a=>!a?.expiresAt||a.expiresAt>r)}catch{return[]}}function lt(t){if(!(typeof window>"u"))try{window.localStorage.setItem(ot,JSON.stringify(t))}catch{}}function He(){return Le()}function ks({key:t,label:s,meta:r,ttlMs:a}={}){if(!t)return;const o=Le(),i=Date.now(),d=o.filter(l=>l?.key&&l.key!==t);d.push({key:t,label:s||t,meta:r||"",startedAt:i,expiresAt:a?i+Number(a):null}),lt(d),ct()}function Rs(t){if(!t)return;const r=Le().filter(a=>a?.key&&a.key!==t);lt(r),ct()}function Is(){const[t,s]=u.useState(()=>He());return u.useEffect(()=>{const r=()=>{s(He())};return window.addEventListener("tasks:updated",r),r(),()=>{window.removeEventListener("tasks:updated",r)}},[]),t}function X({to:t,icon:s,label:r,badge:a,end:o=!0,onNavigate:i,forceActive:d=!1,animateOnIncrease:l=!1}){const y=a&&typeof a=="object"?a:{value:a,tone:a==="warn"?"warn":void 0},p=y?.value,g=y?.tone,v=p!=null&&p!==!1&&p!==0,b=p==="warn"?"!":p,[c,h]=u.useState(!1),N=u.useRef(0),S=u.useRef(null),I="snav__badge"+(g?` snav__badge--${g}`:"")+(c?" snav__badge--pulse":"");return u.useEffect(()=>{const m=typeof p=="number"?p:Number.isFinite(Number(p))?Number(p):0,E=N.current;if(N.current=m,l&&m>E&&m>0){h(!1);const R=requestAnimationFrame(()=>h(!0));return S.current&&clearTimeout(S.current),S.current=setTimeout(()=>h(!1),460),()=>cancelAnimationFrame(R)}},[l,p]),u.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]),n.jsxs(D,{to:t,className:({isActive:m})=>"snav__item"+(m||d?" is-active":""),end:o,onClick:i,children:[n.jsx(G,{name:s,className:"snav__icon"}),n.jsx("span",{className:"snav__label",children:r}),v&&n.jsx("span",{className:I,children:b})]})}function Ds({onNavigate:t}){const{activity:s,activityTone:r,system:a,releases:o,latestActivityTs:i,lastSeenActivityTs:d,markActivitySeen:l,latestReleasesCount:y,latestReleasesTs:p,lastSeenReleasesTs:g,markReleasesSeen:v,isUpdateAvailable:b}=js({pollMs:25e3,activityLimit:200}),c=Is(),h=Te(),N=h.pathname.startsWith("/indexers"),S=h.pathname.startsWith("/settings")||N,I=h.pathname.startsWith("/system"),m=h.pathname,E=m.startsWith("/library"),R=m.startsWith("/activity"),L=(b?{value:1,tone:"error"}:null)||(a?{value:"warn",tone:a}:null);return u.useEffect(()=>{R&&i>0&&i>d&&l(i)},[R,i,d,l]),u.useEffect(()=>{if(!E)return;p>0&&p>g&&v(y,p)},[E,y,p,g,v]),n.jsxs("aside",{className:"sidebar drawer",children:[n.jsxs("div",{className:"snav",children:[n.jsx(X,{to:"/library",icon:"video_library",label:"Bibliothèque",badge:!E&&o?o:null,animateOnIncrease:!0,onNavigate:t}),E&&n.jsx("div",{className:"snav__sub",children:n.jsxs(D,{to:"/library/top",className:()=>"snav__subitem"+(m==="/library/top"?" is-active":""),onClick:t,children:[n.jsx(G,{name:"military_tech",className:"snav__subicon"}),"Top 24h"]})}),n.jsx(X,{to:"/settings",icon:"settings",label:"Paramètres",end:!1,onNavigate:t,forceActive:N}),S&&n.jsxs("div",{className:"snav__sub",children:[n.jsx(D,{to:"/settings/ui",className:()=>"snav__subitem"+(m==="/settings/ui"?" is-active":""),onClick:t,children:"UI"}),n.jsx(D,{to:"/settings/providers",className:()=>"snav__subitem"+(m==="/settings/providers"?" is-active":""),onClick:t,children:"Fournisseurs"}),n.jsx(D,{to:"/indexers",className:()=>"snav__subitem"+(N?" is-active":""),onClick:t,children:"Indexeurs"}),n.jsx(D,{to:"/settings/externals",className:()=>"snav__subitem"+(m==="/settings/externals"?" is-active":""),onClick:t,children:"Métadonnées"}),n.jsx(D,{to:"/settings/applications",className:()=>"snav__subitem"+(m==="/settings/applications"?" is-active":""),onClick:t,children:"Applications"}),n.jsx(D,{to:"/settings/users",className:()=>"snav__subitem"+(m==="/settings/users"?" is-active":""),onClick:t,children:"Sécurité"}),n.jsx(D,{to:"/settings/maintenance",className:()=>"snav__subitem"+(m==="/settings/maintenance"?" is-active":""),onClick:t,children:"Maintenance"}),n.jsx(D,{to:"/settings/backup",className:()=>"snav__subitem"+(m==="/settings/backup"?" is-active":""),onClick:t,children:"Sauvegarde"})]}),n.jsx(X,{to:"/system",icon:"dns",label:"Système",badge:L,end:!1,onNavigate:t}),I&&n.jsxs("div",{className:"snav__sub",children:[n.jsx(D,{to:"/system/indexers",className:()=>"snav__subitem"+(m==="/system/indexers"?" is-active":""),onClick:t,children:"Fournisseurs"}),n.jsx(D,{to:"/system/providers",className:()=>"snav__subitem"+(m==="/system/providers"?" is-active":""),onClick:t,children:"Métadonnées"}),n.jsx(D,{to:"/system/statistics",className:()=>"snav__subitem"+(m==="/system/statistics"?" is-active":""),onClick:t,children:"Statistiques"}),n.jsx(D,{to:"/system/storage",className:()=>"snav__subitem"+(m==="/system/storage"?" is-active":""),onClick:t,children:"Stockage"}),n.jsxs(D,{to:"/system/updates",className:()=>"snav__subitem"+(m==="/system/updates"?" is-active":""),onClick:t,children:[n.jsx("span",{children:"À propos"}),b?n.jsx("span",{className:"snav__badge snav__badge--error snav__subbadge",children:"1"}):null]})]}),n.jsx(X,{to:"/history",icon:"history",label:"Historique",onNavigate:t}),n.jsx(X,{to:"/activity",icon:"schedule",label:"Logs",badge:!R&&s>0?{value:s,tone:r}:null,onNavigate:t})]}),c.length>0&&n.jsx("div",{className:"sidebar__tasks",children:c.map(q=>n.jsxs("div",{className:"sidebar__task",title:q.label,children:[n.jsx("span",{className:"sidebar__task-label",children:q.label}),q.meta&&n.jsx("span",{className:"sidebar__task-meta",children:q.meta})]},q.key))})]})}const ut=u.createContext(null),Ne=u.createContext(null);function Ps(){const t=u.useContext(ut),s=u.useContext(Ne);if(s===void 0)throw new Error("useSubbar must be used inside SubbarProvider");return{content:t,setContent:s}}function Lr(){const t=u.useContext(Ne);if(t===void 0)throw new Error("useSubbarSetter must be used inside SubbarProvider");return t}function qs(){const{content:t}=Ps();if(!t)return null;const s=P.isValidElement(t)?t.props?.subbarClassName:"";return n.jsx("div",{className:`subbar${s?` ${s}`:""}`,children:t})}function Ms({children:t}){const[s,r]=u.useState(null);return n.jsx(Ne.Provider,{value:r,children:n.jsx(ut.Provider,{value:s,children:t})})}const dt="feedarr-theme";let V=null,z=null;function he(t){if(typeof document>"u")return;const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",t==="dark"?"#2a2a2a":"#2493b5")}function Fs(t){const s=String(t||"system").trim().toLowerCase();return s==="light"||s==="dark"||s==="system"?s:"system"}function Us(){return typeof localStorage>"u"?"system":localStorage.getItem(dt)||"system"}function je(t,s=!1){if(typeof document>"u")return;const r=document.documentElement,a=Fs(t);if(s&&typeof localStorage<"u"&&localStorage.setItem(dt,a),a==="system"){const o=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;if(o){const i=d=>{const l=d?"dark":"light";r.setAttribute("data-theme",l),he(l)};i(o.matches),(V!==o||!z)&&(V&&z&&V.removeEventListener("change",z),V=o,z=d=>i(d.matches),o.addEventListener("change",z))}else r.setAttribute("data-theme","light"),he("light");return}r.setAttribute("data-theme",a),he(a),V&&z&&(V.removeEventListener("change",z),V=null,z=null)}if(typeof document<"u"){const t=Us();je(t)}const pt="feedarr-ui-language",be="fr-FR",Ye="fr-FR",$s=[{value:"fr-FR",label:"Français"},{value:"en-US",label:"English"}],ft=new Set($s.map(t=>t.value.toLowerCase()));function ke(t){const s=String(t||"").trim();return s&&ft.has(s.toLowerCase())?s:be}function Nr(t){const s=String(t||"").trim();return s&&ft.has(s.toLowerCase())?s:Ye}function mt(){return typeof localStorage>"u"?be:ke(localStorage.getItem(pt))}function Re(){if(typeof document<"u"){const t=String(document.documentElement.getAttribute("lang")||"").trim();if(t)return ke(t)}return mt()}function Ie(t,s=!1){const r=ke(t);return typeof document<"u"&&document.documentElement.setAttribute("lang",r),s&&typeof localStorage<"u"&&localStorage.setItem(pt,r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("feedarr:ui-language-changed",{detail:{language:r}})),r}const gt="poster-queue-active";function Os(t){if(t<=0){we();return}ks({key:gt,label:"Récupération posters",meta:`${t} en attente`,ttlMs:1e3*60*30})}function we(){Rs(gt)}function zs({pollIntervalMs:t=5e3,enabled:s=!0}={}){const r=u.useRef(null);u.useEffect(()=>{if(!s){r.current&&(clearInterval(r.current),r.current=null),we();return}async function a(){try{const o=await U("/api/posters/queue/status"),i=Number(o?.queueSize??0);i>0?Os(i):we()}catch{}}return a(),r.current=setInterval(a,t),()=>{r.current&&(clearInterval(r.current),r.current=null)}},[s,t])}const Se="posters:trigger",Bs="posters:polling:tick",f={cycleRunning:!1,cycleStartedAt:0,lastFingerprintSeen:"",lastCycleCompletedFingerprint:"",intervalMs:12e3,maxDurationMs:9e4,timer:null,inFlight:!1};function ie(){f.timer&&(clearTimeout(f.timer),f.timer=null)}function xe(t){typeof window>"u"||window.dispatchEvent(new CustomEvent(Bs,{detail:t}))}async function ht(){try{return await U("/api/posters/stats")}catch{return null}}function ve(t,s){ie(),f.cycleRunning=!1,f.cycleStartedAt=0,f.inFlight=!1;const r=s?.stateFingerprint?String(s.stateFingerprint):f.lastFingerprintSeen;r&&(f.lastCycleCompletedFingerprint=r),xe({reason:`stop:${t}`,stats:s||null,fingerprint:r||"",fingerprintChanged:!1,cycleRunning:!1,cycleStartedAtTs:0})}function vt(t,s){if(!t){const d=Date.now()-f.cycleStartedAt;return xe({reason:s,stats:null,fingerprint:f.lastFingerprintSeen,fingerprintChanged:!1,cycleRunning:f.cycleRunning,cycleStartedAtTs:f.cycleStartedAt}),d>=f.maxDurationMs?(ve("timeout"),!1):!0}const r=Number(t.missingActionable||0),a=t.stateFingerprint?String(t.stateFingerprint):"",o=!!a&&a!==f.lastFingerprintSeen;return a&&(f.lastFingerprintSeen=a),xe({reason:s,stats:t,fingerprint:a,fingerprintChanged:o,cycleRunning:f.cycleRunning,cycleStartedAtTs:f.cycleStartedAt}),r<=0?(ve("empty",t),!1):Date.now()-f.cycleStartedAt>=f.maxDurationMs?(ve("timeout",t),!1):!0}async function yt(t="tick"){if(!f.cycleRunning||f.inFlight)return;f.inFlight=!0;const s=await ht();f.inFlight=!1,f.cycleRunning&&vt(s,t)&&(ie(),f.timer=setTimeout(()=>yt("interval"),f.intervalMs))}function Vs(t,s){f.cycleRunning||(f.cycleRunning=!0,f.cycleStartedAt=Date.now(),s?.stateFingerprint,vt(s,"start")&&(ie(),f.timer=setTimeout(()=>yt("interval"),f.intervalMs)))}function jr(t="manual"){typeof window>"u"||window.dispatchEvent(new CustomEvent(Se,{detail:{reason:t}}))}function Ws({intervalMs:t=12e3,maxDurationMs:s=9e4,enabled:r=!0}={}){u.useEffect(()=>{if(!r||typeof window>"u")return;f.intervalMs=t,f.maxDurationMs=s;const a=async o=>{if(f.cycleRunning){o?.detail?.reason;return}const i=await ht();if(!i)return;const d=Number(i.missingActionable||0),l=i.stateFingerprint?String(i.stateFingerprint):"";if(l&&(f.lastFingerprintSeen=l),d<=0){l&&(f.lastCycleCompletedFingerprint=l);return}l&&l===f.lastCycleCompletedFingerprint||Vs(o?.detail?.reason||"trigger",i)};return window.addEventListener(Se,a),()=>{window.removeEventListener(Se,a),ie(),f.cycleRunning=!1,f.inFlight=!1}},[t,s,r])}function Gs(){const t=Ce(),r=Te().pathname.startsWith("/setup"),[a,o]=u.useState(null),[i,d]=u.useState(!1),l=u.useRef({active:!1,startX:0,startY:0,isForm:!1});zs({pollIntervalMs:5e3,enabled:!0}),Ws({intervalMs:12e3,maxDurationMs:9e4,enabled:!0}),u.useEffect(()=>{let c=!0;return U("/api/settings/ui").then(h=>{c&&(je(h?.theme),Ie(h?.uiLanguage,!0))}).catch(h=>{console.error("Failed to load UI settings theme",h)}),()=>{c=!1}},[]);const y=u.useCallback(async()=>{try{const c=await U("/api/system/onboarding");if(o(c),!c?.onboardingDone&&!r){t("/setup",{replace:!0});return}}catch(c){console.error("Failed to refresh onboarding status",c)}},[t,r]);u.useEffect(()=>{y();const c=()=>y();return window.addEventListener("onboarding:refresh",c),()=>window.removeEventListener("onboarding:refresh",c)},[y]);const p=!r&&!!a&&!a.onboardingDone,g=u.useCallback(()=>d(!0),[]),v=u.useCallback(()=>d(!1),[]),b=u.useCallback(()=>d(c=>!c),[]);return u.useEffect(()=>(document.body.classList.toggle("nav-open",i),()=>document.body.classList.remove("nav-open")),[i]),u.useEffect(()=>{if(!i)return;const c=h=>{h.key==="Escape"&&v()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,v]),u.useEffect(()=>{const N=m=>{if(m.touches.length!==1)return;const E=m.target,R=E?.tagName?.toLowerCase();if(R==="input"||R==="textarea"||R==="select"||!!E?.isContentEditable){l.current.active=!1;return}let L=E;for(;L&&L!==document.body;){if(L.scrollWidth>L.clientWidth+2&&L.classList?.contains("subbar")){l.current.active=!1;return}L=L.parentElement}const q=m.touches[0];l.current={active:!0,startX:q.clientX,startY:q.clientY,isForm:!1,locked:!1,nearEdge:q.clientX<=30}},S=m=>{const E=l.current;if(!E.active||m.touches.length!==1)return;const R=m.touches[0],M=R.clientX-E.startX,L=R.clientY-E.startY;if(E.nearEdge&&M>0&&Math.abs(M)>Math.abs(L)&&m.preventDefault(),!E.locked&&Math.abs(L)>8&&Math.abs(L)>Math.abs(M)){E.active=!1;return}if(!E.locked&&Math.abs(M)>10&&(E.locked=!0),!!E.locked){if(Math.abs(L)>40){E.active=!1;return}i&&M<-50&&(v(),E.active=!1)}},I=()=>{l.current.active=!1,l.current.locked=!1};return window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",I),window.addEventListener("touchcancel",I),()=>{window.removeEventListener("touchstart",N),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",I),window.removeEventListener("touchcancel",I)}},[v,i,g]),n.jsx(Ms,{children:n.jsxs("div",{className:`app app-shell ${p?"onboarding-bar-visible":""} ${i?"is-open":""}`,children:[n.jsx(nt,{onToggleNav:b}),n.jsx("button",{type:"button",className:"drawer-overlay","aria-label":"Fermer le menu latéral",onClick:v}),n.jsxs("div",{className:"body",children:[n.jsx(Ds,{onNavigate:v}),n.jsxs("div",{className:"content",children:[n.jsx(qs,{}),n.jsx(st,{})]})]}),p&&n.jsxs("div",{className:"onboarding-bar",children:[n.jsxs("div",{className:"onboarding-bar__content",children:[n.jsx("div",{className:"onboarding-bar__title",children:"Configuration rapide"}),n.jsx("div",{className:"onboarding-bar__text",children:"Ajoute un indexeur et/ou des providers pour activer toutes les fonctionnalités."})]}),n.jsx("button",{className:"btn btn-accent",type:"button",onClick:()=>{t("/setup")},children:"Démarrer le wizard"})]})]})})}function Ks(){const t=Ce();return u.useEffect(()=>{let s=!0;return U("/api/settings/ui").then(r=>{s&&(je(r?.theme),Ie(r?.uiLanguage,!0))}).catch(r=>{console.error("Failed to load UI settings theme on setup shell",r)}),()=>{s=!1}},[]),u.useEffect(()=>{let s=!0;return U("/api/system/onboarding").then(r=>{s&&r?.onboardingDone&&t("/library",{replace:!0})}).catch(r=>{console.error("Failed to load onboarding status on setup shell",r)}),()=>{s=!1}},[t]),n.jsxs("div",{className:"app setup-shell",children:[n.jsx(nt,{onToggleNav:()=>{}}),n.jsx("main",{className:"setup-main",children:n.jsx(st,{})})]})}function Hs(t){return t?typeof t=="string"?t:typeof t.message=="string"&&t.message.trim()?t.message:typeof t.statusText=="string"&&t.statusText.trim()?t.statusText:"Une erreur inattendue est survenue.":"Une erreur inattendue est survenue."}function Qe(){const t=Dt(),s=Ce(),r=Hs(t);return n.jsxs("div",{className:"page",children:[n.jsx("div",{className:"pagehead",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Erreur d'affichage"}),n.jsx("div",{className:"muted",children:"La page n'a pas pu etre chargee."})]})}),n.jsxs("div",{className:"errorbox",children:[n.jsx("div",{className:"errorbox__title",children:"Détails"}),n.jsx("div",{className:"muted",children:r})]}),n.jsxs("div",{className:"formactions",style:{marginTop:12},children:[n.jsx("button",{className:"btn",type:"button",onClick:()=>window.location.reload(),children:"Recharger"}),n.jsx("button",{className:"btn",type:"button",onClick:()=>s("/library",{replace:!0}),children:"Retour à la bibliothèque"})]})]})}class Ys extends P.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("[ErrorBoundary]",s,r?.componentStack)}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const s=this.props.label||"Ce composant";return n.jsxs("div",{className:"errorbox",style:{margin:"12px 0"},children:[n.jsxs("div",{className:"errorbox__title",children:[s," n'a pas pu etre affiche"]}),n.jsx("div",{className:"muted",style:{marginTop:4},children:this.state.error?.message||"Erreur inattendue"}),n.jsx("button",{className:"btn btn--sm",type:"button",style:{marginTop:8},onClick:this.handleRetry,children:"Reessayer"})]})}return this.props.children}}const Qs=P.lazy(()=>$(()=>import("./Library-Dj2RDIsM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Xs=P.lazy(()=>$(()=>import("./TopReleases-LRCar5yx.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]))),Js=P.lazy(()=>$(()=>import("./Activity-Dr0V_OJn.js"),__vite__mapDeps([13,1,11,2,4,14,10,8]))),Zs=P.lazy(()=>$(()=>import("./History-DFT4mTpL.js"),__vite__mapDeps([15,1,11,2,4,5,14,7,16,10,8]))),er=P.lazy(()=>$(()=>import("./Indexers-Dbr1L5zA.js"),__vite__mapDeps([17,1,2,11,4,18,14,5,19,7,16,10,8]))),re=P.lazy(()=>$(()=>import("./System-Hgm0nJAD.js"),__vite__mapDeps([20,1,21,22,9,7,14,11,2,10,8]))),tr=P.lazy(()=>$(()=>import("./SystemStatisticsPage-Bby2eKxn.js"),__vite__mapDeps([23,1,11,21,22,9,7,14,10,8]))),sr=P.lazy(()=>$(()=>import("./SystemIndexers-CXxi31WL.js"),__vite__mapDeps([24,1,11,2,22,9,7,10,8]))),W=P.lazy(()=>$(()=>import("./Settings-9pCEZJv0.js"),__vite__mapDeps([25,1,11,2,7,26,4,18,14,6,9,10,8]))),rr=P.lazy(()=>$(()=>import("./Providers-DHdvdNVX.js"),__vite__mapDeps([27,1,2,11,4,18,10,8]))),nr=P.lazy(()=>$(()=>import("./SetupWizard-CMlW6aVY.js"),__vite__mapDeps([28,1,14,26,4,18,19,7,6,8,10])));function A(t,s){return n.jsx(Ys,{label:s,children:n.jsx(P.Suspense,{fallback:n.jsxs("div",{className:"loader",children:[n.jsx("div",{className:"spinner"}),n.jsx("div",{className:"muted",children:"Chargement..."})]}),children:t})})}const ar="/",ir=ar,or=Pt([{path:"/setup",element:n.jsx(Ks,{}),errorElement:n.jsx(Qe,{}),children:[{index:!0,element:A(n.jsx(nr,{}))}]},{path:"/",element:n.jsx(Gs,{}),errorElement:n.jsx(Qe,{}),children:[{index:!0,element:n.jsx(fe,{to:"/library",replace:!0})},{path:"library",element:A(n.jsx(Qs,{}))},{path:"library/top",element:A(n.jsx(Xs,{}))},{path:"activity",element:A(n.jsx(Js,{}))},{path:"history",element:A(n.jsx(Zs,{}))},{path:"indexers",element:A(n.jsx(er,{}))},{path:"system",element:A(n.jsx(re,{}))},{path:"system/statistics",element:A(n.jsx(tr,{}))},{path:"system/indexers",element:A(n.jsx(sr,{}))},{path:"system/storage",element:A(n.jsx(re,{}))},{path:"system/providers",element:A(n.jsx(re,{}))},{path:"system/updates",element:A(n.jsx(re,{}))},{path:"settings",element:A(n.jsx(W,{}))},{path:"settings/ui",element:A(n.jsx(W,{}))},{path:"settings/providers",element:A(n.jsx(rr,{}))},{path:"settings/indexers",element:n.jsx(fe,{to:"/indexers",replace:!0})},{path:"settings/externals",element:A(n.jsx(W,{}))},{path:"settings/applications",element:A(n.jsx(W,{}))},{path:"settings/users",element:A(n.jsx(W,{}))},{path:"settings/maintenance",element:A(n.jsx(W,{}))},{path:"settings/backup",element:A(n.jsx(W,{}))},{path:"settings/about",element:n.jsx(fe,{to:"/system/updates",replace:!0})}]}],{basename:ir}),bt=["placeholder","title","aria-label"],cr="data-i18n-original-",lr=new Set(["l","d","j","c","n","s","m","t","qu"]),J=new WeakMap;let K=De(Re()),Xe=null,Je=!1,Ze=null;const e=(t,s={})=>({en:t,...s}),ur={"configuration de l'application":e("Application settings"),"browser reload required":e("Browser Reload Required"),"rechargement du navigateur requis":e("Browser Reload Required"),"sync all":e("Sync all"),"top 24h":e("Top 24h"),language:e("Language"),"media info language":e("Media Info Language"),"ui language":e("UI Language"),"a propos":e("About"),"mise a jour":e("Update"),"mise a jour disponible":e("Update available"),"a jour":e("Up to date"),"version actuelle":e("Current version"),"derniere release":e("Latest release"),"publie le":e("Published on"),statut:e("Status"),"intervalle de verification":e("Check interval"),environnement:e("Environment"),"base de donnees":e("Database"),"dossier data":e("Data folder"),"chemin db":e("DB path"),"espace disque":e("Disk space"),emplacement:e("Location"),"espace libre":e("Free space"),"espace total":e("Total space"),utilisation:e("Usage"),"aucun volume detecte":e("No volume detected"),"requetes et synchronisations":e("Requests and synchronizations"),"synchronisations et evenements":e("Synchronizations and events"),"categories sync":e("Sync categories"),"temps de reponse":e("Response time"),"total entrees":e("Total records"),"chargement de l'historique":e("Loading history..."),"historique indisponible":e("History unavailable"),"erreur chargement historique":e("History loading error"),"erreur purge historique":e("History purge error"),"effacer l'historique":e("Clear history"),"confirmer la suppression de l'historique":e("Confirm history deletion"),"chargement des logs":e("Loading logs..."),"erreur chargement activite":e("Activity loading error"),"erreur purge logs":e("Log purge error"),"effacer les logs":e("Clear logs"),"confirmer la purge des logs":e("Confirm log purge"),"premiere page":e("First page"),"page precedente":e("Previous page"),"page suivante":e("Next page"),"derniere page":e("Last page"),"niveau de log":e("Log level"),"derniers items":e("Last items"),"temps moyen":e("Average time"),resume:e("Summary"),"verifie la configuration puis lance feedarr":e("Check the configuration then launch Feedarr"),"configuration rapide en 6 etapes":e("Quick setup in 6 steps"),"configuration rapide en 7 etapes":e("Quick setup in 7 steps"),"langue par defaut":e("Default language"),"choisis la langue par defaut de feedarr":e("Choose Feedarr default language"),"cette etape applique la langue ui et la langue metadata par defaut":e("This step sets both UI and metadata default language"),"langue utilisee pour les infos media (tmdb: synopsis, titres, cast)":e("Language used for media info (TMDB: overview, titles, cast)"),"langue de l'interface (formatage dates/heures et preference ui)":e("UI language (date/time formatting and UI preference)"),'marquer "vu" par defaut':e('Mark "seen" by default'),"activer vue sans poster":e("Enable no-poster view"),"animations de l'interface":e("Interface animations"),"badge pour info":e("Badge for Info"),"badge pour warn":e("Badge for Warn"),"badge pour error":e("Badge for Error"),"toutes categories":e("All categories"),"toutes qualites":e("All qualities"),"toutes apps":e("All apps"),"masquer apps":e("Hide apps"),"pas vu":e("Unseen"),"actions de maintenance":e("Maintenance actions"),"supprimer tous les posters en cache":e("Delete all cached posters"),"supprime tous les posters telecharges localement":e("Delete all locally downloaded posters"),"purger logs":e("Purge logs"),"supprime les logs d'activite (tous, historique ou logs uniquement)":e("Delete activity logs (all, history or logs only)"),"optimiser la base de donnees":e("Optimize database"),"compacte la base sqlite (vacuum) pour recuperer de l'espace":e("Compacts SQLite database (VACUUM) to free space"),"nettoyer posters orphelins":e("Clean orphan posters"),"supprime les fichiers de posters non references en base":e("Delete poster files not referenced in database"),"tester connectivite providers":e("Test provider connectivity"),"verifie la connexion tmdb, tvmaze, fanart, igdb":e("Check TMDB, TvMaze, Fanart and IGDB connectivity"),"re-parser les titres":e("Re-parse titles"),"recalcule les metadonnees de toutes les releases (titre, saison, resolution...)":e("Recompute metadata for all releases (title, season, resolution...)"),"detecter les doublons":e("Detect duplicates"),"identifie et supprime les releases en double par source":e("Identify and delete duplicate releases by source"),statistiques:e("Statistics"),metrique:e("Metric"),valeur:e("Value"),"releases en base":e("Releases in database"),"taille base de donnees":e("Database size"),"cache de matching":e("Matching cache"),"entites media":e("Media entities"),"doublons detectes":e("Detected duplicates"),"logs d'activite":e("Activity logs"),"uptime serveur":e("Server uptime"),"par categorie":e("By category"),"confirmer la suppression":e("Confirm deletion"),"options de purge":e("Purge options"),"tous les logs":e("All logs"),"historique (sync uniquement)":e("History (sync only)"),"logs (hors sync)":e("Logs (excluding sync)"),"confirmer l'optimisation":e("Confirm optimization"),"confirmer le nettoyage":e("Confirm cleanup"),"confirmer le re-parsing":e("Confirm re-parsing"),"confirmer la suppression des doublons":e("Confirm duplicate deletion"),"aucune donnee":e("No data"),"aucune application connectee":e("No connected application"),"posters affiches":e("Displayed posters"),"couverture posters":e("Poster coverage"),"reutilisation posters":e("Poster reuse"),"fichiers uniques":e("unique files"),"releases par jour":e("Releases per day"),"releases par poster":e("releases per poster"),"posters pour":e("posters for"),"repartition stockage":e("Storage distribution"),"taille base":e("Database size"),"posters locaux":e("Local posters"),"requetes totales":e("Total queries"),"echecs requetes":e("Query failures"),"echecs sync":e("Sync failures"),"releases par fournisseur":e("Releases by provider"),"categories par fournisseur":e("Categories by provider"),"detail fournisseurs":e("Provider details"),"total appels":e("Total calls"),"total echecs":e("Total failures"),"taux d'echec global":e("Global failure rate"),"detail metadonnees":e("Metadata details"),"sante des indexeurs":e("Indexer health"),"sante des fournisseurs":e("Provider health"),"prochain sync":e("Next sync"),"items dernier sync":e("Last sync items"),"fournisseurs indisponibles":e("Providers unavailable"),"sources indisponibles":e("Sources unavailable"),"aucune source configuree":e("No source configured"),"erreur chargement statistiques":e("Statistics loading error"),"elements matches":e("matched items"),"categories par indexeur":e("Categories by indexer"),"detail indexeurs":e("Indexer details"),"detail providers":e("Provider details"),"temps de reponse moyen":e("Average response time"),"taux d'echec":e("Failure rate"),"top categories":e("Top categories"),"top releases (grabs)":e("Top releases (grabs)"),"distribution par taille":e("Size distribution"),"distribution seeders":e("Seeders distribution"),"date d'ajout":e("Added date"),"titre original":e("Original title"),"nouveau title":e("New title"),"nouveau titre":e("New title"),resultats:e("Results"),"selectionner une seule carte":e("Select a single card"),"poster manuel":e("Manual poster"),"filtrer par identifiant de source":e("Filter by source identifier"),"aucune sauvegarde presente":e("No backup found"),"nouvelle sauvegarde":e("New backup"),"creer une nouvelle sauvegarde":e("Create a new backup"),"restaurer une sauvegarde":e("Restore a backup"),"supprimer une sauvegarde":e("Delete a backup"),"confirmer la restauration":e("Confirm restore"),"cette action est definitive":e("This action is permanent"),"derniere synchro":e("Last sync"),"base url":e("Base URL"),"laisse vide pour ne pas changer":e("Leave blank to keep current"),"options de synchronisation":e("Synchronization options"),"synchronisation auto":e("Automatic sync"),"intervalle sync rss (minutes)":e("RSS sync interval (minutes)"),"limite rss par categorie":e("RSS limit per category"),"remplissage progressif par categorie, purge des plus anciens":e("Progressive fill per category, purge oldest items"),"limite rss globale (par source)":e("Global RSS limit (per source)"),"plafond global par source, purge des plus anciens":e("Global cap per source, purge oldest items"),"choisir un fournisseur...":e("Choose a provider..."),"choisir un indexeur...":e("Choose an indexer..."),"ajouter manuellement...":e("Add manually..."),"tester categories":e("Test categories"),"masquer options avancees":e("Hide advanced options"),"test reussi":e("Test successful"),suivant:e("Next"),"tous les indexeurs sont deja ajoutes":e("All indexers are already added"),"pas besoin de cle sauf abonnement":e("No key needed unless you have a subscription"),"provider invalide":e("Invalid provider"),"client id et client secret requis":e("Client ID and Client Secret required"),"cle api requise":e("API key required"),"connexion reussie ! vous pouvez enregistrer":e("Connection successful! You can save"),"configuration enregistree. ajoute les indexeurs manuellement a l'etape suivante":e("Configuration saved. Add indexers manually at the next step"),"cles deja enregistrees":e("Keys already saved"),"voir sur tmdb / igdb":e("View on TMDB / IGDB"),"ajouter un fournisseur":e("Add a provider"),"ajouter une source":e("Add a source"),"ajouter une application":e("Add an application"),"supprimer l'application":e("Delete application"),"options applications":e("Application options"),"aucune application configuree":e("No configured application"),"mode d'envoi":e("Delivery mode"),"integration active":e("Active integration"),"a sauvegarder":e("To save"),"etat de synchronisation":e("Synchronization status"),"dernier sync":e("Last sync"),"nom (optionnel)":e("Name (optional)"),"entrez la cle api":e("Enter API key"),"entrez le client id":e("Enter Client ID"),"entrez le client secret":e("Enter Client Secret"),"test en cours":e("Test in progress"),"confirmer la desactivation":e("Confirm disable"),"confirmer l'action":e("Confirm action"),"activez d'abord le provider":e("Enable the provider first"),"cette action est irreversible":e("This action is irreversible"),"cette action va desactiver le provider et supprimer la cle api associee":e("This action will disable the provider and remove the associated API key"),"cette action va desactiver le provider (la cle api est conservee)":e("This action will disable the provider (API key is kept)"),"cette action va activer le provider":e("This action will enable the provider"),"chargement de la configuration":e("Loading configuration"),"-- selectionner --":e("-- Select --"),"id du profil":e("Profile ID"),"type de serie":e("Series type"),"mode de surveillance":e("Monitoring mode"),"tous les episodes":e("All episodes"),"futurs episodes":e("Future episodes"),"episodes manquants":e("Missing episodes"),"episodes existants":e("Existing episodes"),"premiere saison":e("First season"),"dossiers par saison":e("Season folders"),"rechercher episodes manquants":e("Search missing episodes"),"rechercher cutoff non atteint":e("Search unmet cutoff"),"disponibilite minimale":e("Minimum availability"),annonce:e("Announced"),"en salle":e("In theaters"),sorti:e("Released"),"rechercher le film a l'ajout":e("Search for movie on add"),"cette action va supprimer tous les posters telecharges localement":e("This action will delete all locally downloaded posters"),"elle ne nettoie pas uniquement les orphelins":e("This does not only clean orphan files"),"ils seront re-telecharges automatiquement lors du prochain affichage":e("They will be downloaded again automatically on next display"),"cette action execute un vacuum sqlite pour compacter la base de donnees et recuperer l'espace disque":e("This runs SQLite VACUUM to compact the database and reclaim disk space"),"l'operation peut prendre quelques secondes":e("This operation may take a few seconds"),"cette action va scanner le dossier de posters et supprimer les fichiers qui ne sont plus references par aucune release en base":e("This action will scan the posters folder and delete files no longer referenced by any release"),"cette action va supprimer l'application":e("This action will delete application"),"cette action va re-parser tous les titres de releases pour recalculer les metadonnees (titre nettoye, saison, episode, resolution, codec, etc)":e("This action will re-parse all release titles to recompute metadata (clean title, season, episode, resolution, codec, etc.)"),"utile apres une mise a jour du parser":e("Useful after a parser update"),"l'operation peut prendre un moment selon le nombre de releases":e("This operation may take a while depending on release count"),"pour chaque groupe de doublons, seule la release la plus recente sera conservee":e("For each duplicate group, only the most recent release is kept"),"cette action cree une archive zip locale contenant la base de donnees et les metadonnees de configuration (sans exposer les secrets en clair dans `config.json`)":e("This action creates a local ZIP archive containing the database and configuration metadata (without exposing plain secrets in `config.json`)"),"un redemarrage de l'application sera requis apres restauration":e("An application restart is required after restore"),"aucune categorie disponible":e("No category available"),"laisse vide pour utiliser la cle du fournisseur":e("Leave blank to use provider API key"),"colle l'url copy torznab feed":e("Paste the Copy Torznab Feed URL"),'depuis jackett/prowlarr, utilise "copy torznab feed", puis colle l\'url complete':e('From Jackett/Prowlarr, use "Copy Torznab Feed", then paste the full URL'),"categories retenues":e("Selected categories"),"nouvel indexeur":e("New indexer"),"nom de l'indexeur":e("Indexer name"),"plus vieux que (jours)":e("Older than (days)"),"testez d'abord la connexion avant d'enregistrer":e("Test the connection first before saving"),"toutes les applications sont deja ajoutees":e("All applications are already added")},dr={bibliotheque:e("Library"),parametres:e("Settings"),fournisseur:e("Provider"),fournisseurs:e("Providers"),provider:e("Provider"),providers:e("Providers"),indexeur:e("Indexer"),indexeurs:e("Indexers"),indexer:e("Indexer"),applications:e("Applications"),application:e("Application"),rss:e("RSS"),maintenance:e("Maintenance"),sauvegarde:e("Backup"),sauvegardes:e("Backups"),systeme:e("System"),historique:e("History"),logs:e("Logs"),configuration:e("Configuration"),charge:e("Loading"),chargement:e("Loading"),erreur:e("Error"),rafraichir:e("Refresh"),effacer:e("Clear"),sauver:e("Save"),ajouter:e("Add"),ajoute:e("Added"),ajoutee:e("Added"),ajoutees:e("Added"),options:e("Options"),enregistrer:e("Save"),enregistre:e("Saved"),enregistree:e("Saved"),enregistrees:e("Saved"),enregistrement:e("Saving"),sauvegarder:e("Save"),annuler:e("Cancel"),supprimer:e("Delete"),suppression:e("Deletion"),desactiver:e("Disable"),desactivation:e("Disable"),activer:e("Enable"),actif:e("Active"),actifs:e("Active"),active:e("Active"),actives:e("Active"),desactive:e("Disabled"),desactivee:e("Disabled"),desactivees:e("Disabled"),inactif:e("Inactive"),irreversible:e("irreversible"),modifier:e("Edit"),editer:e("Edit"),derniere:e("Last"),synchro:e("sync"),metadonnees:e("Metadata"),statut:e("Status"),environnement:e("Environment"),dossier:e("Folder"),chemin:e("Path"),db:e("DB"),espace:e("Space"),libre:e("Free"),emplacement:e("Location"),utilisation:e("Usage"),fichier:e("file"),fichiers:e("files"),unique:e("unique"),uniques:e("unique"),prochain:e("Next"),manuel:e("Manual"),verification:e("Check"),actuelle:e("Current"),actuel:e("Current"),requete:e("query"),requetes:e("queries"),elements:e("items"),matches:e("matched"),sante:e("Health"),securite:e("Security"),theme:e("Theme"),apparence:e("Appearance"),clair:e("Light"),sombre:e("Dark"),langue:e("Language"),filtre:e("Filter"),date:e("Date"),source:e("Source"),sources:e("Sources"),categorie:e("Category"),categories:e("Categories"),qualite:e("Quality"),toutes:e("All"),tous:e("All"),vue:e("View"),liste:e("List"),tri:e("Sort"),limite:e("Limit"),test:e("Test"),tester:e("Test"),executer:e("Run"),analyser:e("Analyze"),analyse:e("Analyzing"),niveau:e("Level"),avertissement:e("Warning"),nom:e("Name"),couleur:e("Color"),connexion:e("Connection"),connectivite:e("connectivity"),reussie:e("successful"),retro:e("Retro"),fetch:e("Fetch"),arreter:e("Stop"),demarrer:e("Start"),lancer:e("Launch"),lancement:e("Launching"),restauration:e("Restore"),telechargement:e("Download"),telecharger:e("Download"),operation:e("Operation"),cours:e("in progress"),redemarrage:e("Restart"),requis:e("required"),apres:e("after"),teste:e("tested"),echec:e("failed"),echecs:e("failures"),succes:e("success"),synchronisation:e("Synchronization"),synchronisations:e("Synchronizations"),evenements:e("Events"),automatique:e("Automatic"),intervalle:e("Interval"),minutes:e("minutes"),etat:e("Status"),jamais:e("Never"),dernier:e("Last"),derniers:e("Last"),temps:e("Time"),items:e("items"),demandes:e("requests"),avancees:e("advanced"),mode:e("Mode"),general:e("General"),statistiques:e("Statistics"),stockage:e("Storage"),wizard:e("wizard"),aucun:e("No"),aucune:e("No"),non:e("Not"),configure:e("Configured"),configuree:e("Configured"),configurees:e("Configured"),configures:e("Configured"),configurer:e("Configure"),choisir:e("Choose"),choisis:e("Choose"),valider:e("Validate"),valide:e("Valid"),invalide:e("Invalid"),verifier:e("Check"),verifie:e("Check"),impossible:e("Unable"),resume:e("Summary"),poster:e("Poster"),posters:e("Posters"),locaux:e("Local"),local:e("Local"),manquant:e("Missing"),manquants:e("Missing"),recherche:e("Search"),pourcentage:e("Percentage"),matching:e("Matching"),detecter:e("Detect"),detectes:e("Detected"),doublon:e("Duplicate"),doublons:e("Duplicates"),groupe:e("Group"),groupes:e("Groups"),purge:e("Purge"),purger:e("Purge"),nettoyer:e("Clean"),nettoyage:e("Cleanup"),optimiser:e("Optimize"),optimisation:e("Optimization"),base:e("Database"),donnees:e("Data"),metrique:e("Metric"),valeur:e("Value"),entites:e("Entities"),media:e("Media"),activite:e("Activity"),taille:e("Size"),serveur:e("Server"),uptime:e("Uptime"),reparser:e("Re-parse"),"re-parsing":e("Re-parsing"),titres:e("Titles"),titre:e("Title"),annee:e("Year"),nouveau:e("New"),original:e("Original"),saison:e("Season"),episode:e("Episode"),episodes:e("Episodes"),resolution:e("Resolution"),entrees:e("entries"),entree:e("entry"),jour:e("day"),jours:e("days"),top:e("Top"),telecharge:e("Downloaded"),telecharges:e("Downloaded"),telechargee:e("Downloaded"),recent:e("Recent"),recents:e("Recent"),plus:e("most"),seedes:e("seeded"),api:e("API"),cle:e("Key"),client:e("Client"),secret:e("Secret"),envoi:e("Delivery"),integration:e("Integration"),associee:e("associated"),conservee:e("kept"),"d'abord":e("first"),entrez:e("Enter"),laisse:e("Leave"),vide:e("blank"),changer:e("change"),fermer:e("Close"),retour:e("Back"),optionnel:e("Optional"),afficher:e("Show"),masquer:e("Hide"),confirmer:e("Confirm"),cette:e("This"),va:e("will"),action:e("action"),definitive:e("permanent"),temporairement:e("temporarily"),verrouillees:e("locked"),presentes:e("present"),presente:e("present"),nouvelle:e("New"),creer:e("Create"),creee:e("Created"),cree:e("Created"),terminee:e("Completed"),termine:e("Completed"),restaurer:e("Restore"),vu:e("Seen"),pas:e("Not"),renommer:e("Rename"),retirer:e("Remove"),selectionner:e("Select"),selectionne:e("Selected"),selectionnee:e("Selected"),selectionnees:e("Selected"),carte:e("Card"),cartes:e("Cards"),details:e("Details"),detail:e("Detail"),precedente:e("Previous"),suivante:e("Next"),premiere:e("First"),total:e("Total"),avec:e("With"),sans:e("Without"),global:e("Global"),taux:e("Rate"),moyen:e("Average"),reponse:e("Response"),appels:e("Calls"),queries:e("Queries"),grabs:e("Grabs"),distribution:e("Distribution"),seeders:e("Seeders")};function De(t){const s=String(t||"fr-FR").trim().toLowerCase();return s.startsWith("fr")?"fr":(s.startsWith("en"),"en")}function wt(t){return String(t||"").replace(/[’]/g,"'").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim().replace(/[.!?]+$/g,"").toLowerCase()}function et(t){return String(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/['’]/g,"").toLowerCase()}function tt(t,s){return!t||!s?s:t.toUpperCase()===t?s.toUpperCase():t[0]&&t[0].toUpperCase()===t[0]&&s[0]?s[0].toUpperCase()+s.slice(1):s}function pr(t,s){const r=wt(t),a=ur[r];return a&&(a[s]||a.en)||null}function St(t,s){const r=et(t),a=dr[r];if(a){const i=a[s]||a.en;if(i)return tt(t,i)}const o=t.search(/['’]/);if(o>0&&o<t.length-1){const i=et(t.slice(0,o));if(lr.has(i)){const d=t.slice(o+1),l=St(d,s);if(l)return tt(t,l)}}return null}function fr(t,s){if(!t)return null;const r=wt(t);if(r.match(/^ajouter\s+[a]\s+(.+)$/)){const c=t.replace(/^Ajouter\s+[àa]\s+/i,"");return s==="en"?`Add to ${c}`:`Add to ${c}`}if(r.match(/^non trouve\s*-\s*ouvrir\s+(.+)$/)){const c=t.replace(/^.*-\s*Ouvrir\s+/i,"");return s==="en"?`Not found - Open ${c}`:`Not found - Open ${c}`}const i=r.match(/^supprimer aussi (\d+) indexeur(?:s)? lie(?:s)? \(desactivation automatique\)$/);if(i){const c=Number(i[1]||0),h=c>1?"s":"";return s==="en"?`Also delete ${c} linked indexer${h} (automatic disable).`:`Also delete ${c} linked indexer${h} (automatic disable).`}if(r.match(/^derniere synchro\s*:\s*(.+)$/)){const c=t.replace(/^Derni(?:e|è)re synchro\s*:\s*/i,"");return s==="en"?`Last sync: ${c}`:`Last sync: ${c}`}const l=r.match(/^cette action va supprimer (\d+) releases en double$/);if(l){const c=Number(l[1]||0);return s==="en"?`This action will delete ${c} duplicate releases.`:`This action will delete ${c} duplicate releases.`}const y=r.match(/^categories retenues\s*\((\d+)\s*\/\s*(\d+)\)$/);if(y)return s==="en"?`Selected categories (${y[1]}/${y[2]})`:`Selected categories (${y[1]}/${y[2]})`;if(/^cette action remplace la base actuelle par la sauvegarde\s*:?\s*$/.test(r))return"This action replaces the current database with backup:";if(/^cette action va supprimer la sauvegarde\s*:?\s*$/.test(r))return"This action will delete backup:";if(/^plus vieux que \(jours\)/.test(r))return"Older than (days)";const p=r.match(/^(\d+)\s+entrees supprimees$/);if(p){const c=Number(p[1]||0);return s==="en"?`${c} entries deleted`:`${c} entries deleted`}const g=r.match(/^(\d+)\s+supprimes?\s*\/\s*(\d+)\s+scannes?\s*\((.+)\s+liberes\)$/);if(g){const c=g[1],h=g[2],N=g[3];return s==="en"?`${c} deleted / ${h} scanned (${N} freed)`:`${c} deleted / ${h} scanned (${N} freed)`}const v=r.match(/^(\d+)\s+groupes,\s*(\d+)\s+doublons detectes$/);if(v){const c=v[1],h=v[2];return s==="en"?`${c} groups, ${h} duplicates detected`:`${c} groups, ${h} duplicates detected`}const b=r.match(/^(\d+)\s+doublons supprimes$/);if(b){const c=b[1];return s==="en"?`${c} duplicates deleted`:`${c} duplicates deleted`}return null}function ne(t,s){if(s==="fr")return t;const r=String(t||"");if(!r.trim())return r;const a=r.match(/^\s*/)?.[0]||"",o=r.match(/\s*$/)?.[0]||"",i=r.slice(a.length,r.length-o.length),d=i.match(/[.!?]+$/)?.[0]||"",l=d?i.slice(0,-d.length):i,y=fr(l,s);if(y)return`${a}${y}${d}${o}`;const p=pr(l,s);if(p)return`${a}${p}${d}${o}`;let g=!1;const v=i.replace(/([A-Za-zÀ-ÿ0-9'’_-]+)/g,b=>{const c=St(b,s);return c?(c!==b&&(g=!0),c):b});return g?`${a}${v}${o}`:r}function Pe(t){if(!t)return!0;const s=t.tagName?.toLowerCase();return!!(!s||s==="script"||s==="style"||s==="code"||s==="pre"||t.closest("[data-no-ui-translate='1']"))}function mr(t){const s=t.parentElement;if(!s||Pe(s))return;const r=t.nodeValue;if(r==null)return;let a=J.has(t)?J.get(t):r;if(!J.has(t))J.set(t,a);else{const i=ne(a,K);r!==i&&(a=r,J.set(t,a))}const o=ne(a,K);o!==r&&(t.nodeValue=o)}function gr(t){return`${cr}${t}`}function hr(t){!t||Pe(t)||bt.forEach(s=>{const r=t.getAttribute(s);if(r==null)return;const a=gr(s);let o=t.getAttribute(a)??r;if(!t.hasAttribute(a))t.setAttribute(a,o);else{const d=ne(o,K);r!==d&&(o=r,t.setAttribute(a,o))}const i=ne(o,K);i!==r&&t.setAttribute(s,i)})}function Z(t){if(!t)return;if(t.nodeType===Node.TEXT_NODE){mr(t);return}if(t.nodeType!==Node.ELEMENT_NODE)return;const s=t;if(!Pe(s)){hr(s);for(const r of s.childNodes)Z(r)}}function vr(t){for(const s of t){if(s.type==="characterData"){Z(s.target);continue}if(s.type==="attributes"){Z(s.target);continue}s.addedNodes.forEach(r=>Z(r))}}function Ee(){typeof document>"u"||!document.body||Z(document.body)}function yr(t){const s=t?.detail?.language;K=De(s||Re()),Ee()}function br(){if(Je){Ee();return}typeof window>"u"||typeof document>"u"||(K=De(Re()),Ee(),Xe=new MutationObserver(vr),Xe.observe(document.body,{childList:!0,subtree:!0,characterData:!0,attributes:!0,attributeFilter:bt}),Ze=t=>yr(t),window.addEventListener("feedarr:ui-language-changed",Ze),Je=!0)}Ie(mt());br();Rt.createRoot(document.getElementById("root")).render(n.jsx(P.StrictMode,{children:n.jsx(qt,{router:or})}));if("serviceWorker"in navigator){const s="/".endsWith("/")?"/":"//",r=`${s}service-worker.js`;window.addEventListener("load",()=>{navigator.serviceWorker.register(r,{scope:s}).catch(a=>{console.error("Failed to register service worker",a)})})}export{G as A,be as D,$s as L,U as a,Cr as b,Tr as c,ks as d,Rs as e,_r as f,Re as g,Ar as h,je as i,Ie as j,Us as k,mt as l,Ye as m,ke as n,Nr as o,_e as r,jr as t,Lr as u};
