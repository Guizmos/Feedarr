import{j as t,b as o}from"./vendor-react-B6j9w5IJ.js";import{A as k}from"./index-DavgMby8.js";function M({checked:a=!1,onIonChange:u,onChange:c,disabled:i=!1,className:s="",title:n,...r}){const f=u||c,l=()=>{if(i)return;const d=!a;typeof f=="function"&&f({detail:{checked:d},target:{checked:d}})};return t.jsx("button",{type:"button",role:"switch","aria-checked":a,"aria-disabled":i,onClick:l,disabled:i,className:`settings-toggle settings-toggle-native ${a?"is-on":"is-off"}${s?` ${s}`:""}`,title:n,...r,children:t.jsx("span",{className:"settings-toggle-native__thumb"})})}function A({className:a="",title:u,children:c}){const i=o.useRef(null),s=o.useRef(null),n=o.useRef(0),r=o.useRef(!1),f=o.useCallback(()=>{const h=i.current,p=s.current;if(!h||!p)return 0;const w=h.getBoundingClientRect().width||h.clientWidth||0,j=Math.max(p.scrollWidth||0,p.getBoundingClientRect().width||0);return Math.max(Math.ceil(j-w),0)},[]),l=o.useCallback(()=>{r.current=!1,n.current&&(cancelAnimationFrame(n.current),n.current=0),s.current&&(s.current.style.transform="translateX(0px)")},[]),d=o.useCallback(()=>{const h=i.current,p=s.current;if(!h||!p||typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches||f()<=0)return;r.current=!0;let e=0,m=1,x=performance.now(),g=x+400;const v=45,N=_=>{if(!r.current)return;const R=i.current,b=s.current;if(!R||!b)return;const y=f();if(y<=0){b.style.transform="translateX(0px)";return}if(_>=g){const $=Math.max(0,(_-x)/1e3);e+=m*v*$,e>=y?(e=y,m=-1,g=_+700):e<=0&&(e=0,m=1,g=_+500),b.style.transform=`translateX(${-e}px)`}x=_,n.current=requestAnimationFrame(N)};n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(N)},[f]);return o.useEffect(()=>l,[l]),t.jsx("span",{ref:i,className:`line-scroll ${a}`.trim(),title:u,onMouseEnter:d,onMouseLeave:l,onPointerEnter:d,onPointerLeave:l,children:t.jsx("span",{ref:s,className:"line-scroll__content",children:c})})}function C({className:a="",title:u,children:c,minSize:i=9}){const s=o.useRef(null),n=o.useCallback(()=>{const r=s.current;if(!r)return;r.style.fontSize="";let l=parseFloat(getComputedStyle(r).fontSize)||14;for(r.style.fontSize=`${l}px`;r.scrollWidth>r.clientWidth+1&&l>i;)l-=.5,r.style.fontSize=`${l}px`},[i]);return o.useLayoutEffect(()=>{n()},[c,n]),o.useEffect(()=>{const r=s.current;if(!r)return;const f=new ResizeObserver(n);return f.observe(r),()=>f.disconnect()},[n]),t.jsx("span",{ref:s,className:a,title:u,children:c})}function I({icon:a,title:u,label:c,onClick:i,disabled:s,className:n}){const r=n?.includes("itemrow__action")?c:"";return t.jsxs("button",{className:`iconbtn${n?` ${n}`:""}`,onClick:i,disabled:s,title:u,type:"button",children:[t.jsx(k,{name:a}),r&&t.jsx("span",{className:"itemrow__action-label",children:r})]})}function B({id:a,title:u,meta:c,metaSub:i,enabled:s=!0,badges:n,actions:r=[],showToggle:f=!0,onToggle:l,toggleDisabled:d=!1,statusClass:h="",className:p=""}){const w={sync:"Sync",science:"Tester",edit:"Modifier",delete:"Supprimer"},j=["indexer-card","itemrow",!s&&"is-disabled",h,p].filter(Boolean).join(" ");return t.jsxs("div",{className:j,children:[t.jsxs("div",{className:"itemrow__body",children:[t.jsxs("div",{className:"itemrow__head",children:[t.jsx("span",{className:`itemrow__statusdot ${s?"ok":"off"}`}),t.jsx(A,{className:"itemrow__title",title:u,children:u}),f&&t.jsx("div",{className:"itemrow__toggle itemrow__toggle--head",title:s?"Actif":"Inactif",children:t.jsx(M,{checked:s,onIonChange:l,disabled:d,title:s?"DÃ©sactiver":"Activer"})})]}),c&&t.jsx(C,{className:"itemrow__meta",title:c,children:c}),i&&t.jsx(C,{className:"itemrow__meta-sub",title:i,children:i}),n&&n.length>0&&t.jsx("div",{className:"itemrow__badges",children:n.map((e,m)=>o.isValidElement(e)?t.jsx(o.Fragment,{children:e},m):t.jsx("span",{className:`pill ${e.className||""}`,title:e.title,children:e.label},m))})]}),t.jsx("div",{className:`itemrow__footer itemrow__footer--count-${r.length}`,children:r.map((e,m)=>{const x=e.label||w[e.icon]||"Action";return t.jsx(I,{icon:e.spinning?"progress_activity":e.icon,title:e.title||x,label:x,onClick:e.onClick,disabled:e.disabled,className:["itemrow__action",`itemrow__action--${String(e.icon||"").toLowerCase()}`,e.className,e.spinning&&"iconbtn--spin"].filter(Boolean).join(" ")},m)})})]})}function E({unifiedKey:a,label:u,title:c}){return t.jsx("span",{className:`cat-bubble cat-bubble--${a||"unknown"}`,title:c,children:u})}export{E as C,B as I,M as T};
