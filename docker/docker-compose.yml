version: "3.9"

services:
  api:
    container_name: FEEDARR-API
    image: guizmos/feedarr-api:latest
    restart: unless-stopped
    environment:
      ASPNETCORE_URLS: http://+:8080
      App__DataDir: /app/data

      # PUID/PGID : UID/GID du compte qui doit posséder les fichiers sur l'hôte.
      # Adapter à votre environnement (id -u / id -g sur le NAS).
      # Par défaut : 10001 (utilisateur interne feedarr).
      PUID: "10001"
      PGID: "10001"

      # OPTIONNEL : clé stable (sinon l'app en génère une et la stocke dans /app/data/keys)
      # FEEDARR_MASTER_KEY: "met-une-valeur-unique-ici"

    volumes:
      - /volume1/Docker/Feedarr/data:/app/data
    ports:
      - "9999:8080"

  web:
    container_name: FEEDARR-WEB
    image: guizmos/feedarr-web:latest
    restart: unless-stopped
    depends_on:
      - api
    ports:
      - "8888:8080"
